<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Post a Task - QuickTask Web_Application</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="bg-gray-50 font-sans">
    <div class="lg:hidden fixed top-0 left-0 right-0 bg-white shadow-md z-50 p-4">
        <button id="mobile-menu-btn" class="text-gray-600 hover:text-gray-900 transition-colors">
            <i class="fas fa-bars text-xl"></i>
        </button>
        <span class="ml-3 text-lg font-semibold text-gray-800">QuickTask</span>
    </div>

    <c-sidebar>
    </c-sidebar>

    <div id="sidebar-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden hidden"></div>

    <div class="lg:ml-64 min-h-screen">
        <div class="p-6 lg:p-8 pt-20 lg:pt-8">
            
            <div id="post-task" class="content-section">
                <div class="mb-8">
                    <h2 class="text-3xl font-bold text-gray-800 mb-2">Post a New Task</h2>
                    <p class="text-gray-600">Describe your task and find a freelancer to get it done.</p>
                </div>

                <!-- Notification for post -->
                {% if messages %}
                    {% for message in messages %}
                    <div class="mb-4 p-4 rounded-lg
                        {% if message.tags == 'success' %} bg-green-100 text-green-700
                        {% elif message.tags == 'error' %} bg-red-100 text-red-700
                        {% else %} bg-blue-100 text-blue-700
                        {% endif %}
                    ">
                        {{ message }}
                    </div>
                    {% endfor %}
                {% endif %}
                
                <div class="bg-white rounded-xl shadow-sm p-6 border border-gray-100">
                    <form method="post" enctype="multipart/form-data" class="space-y-6">
                        {% csrf_token %}
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label for="{{ form.title.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">Task Title</label>
                                {{ form.title }}
                                {% if form.title.errors %}
                                    {% for error in form.title.errors %}
                                        <p class="mt-2 text-sm text-red-600">{{ error }}</p>
                                    {% endfor %}
                                {% endif %}
                            </div>
                            <div>
                                <label for="{{ form.category.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">Category</label>
                                <select id="{{ form.category.id_for_label }}" name="{{ form.category.html_name }}" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                    <option value="Web Development">Web Development</option>
                                    <option value="Graphic Design">Graphic Design</option>
                                    <option value="Writing & Translation">Writing & Translation</option>
                                    <option value="Digital Marketing">Digital Marketing</option>
                                    <option value="Video & Animation">Video & Animation</option>
                                    <option value="Other">Other</option>
                                </select>
                                {% if form.category.errors %}
                                    {% for error in form.category.errors %}
                                        <p class="mt-2 text-sm text-red-600">{{ error }}</p>
                                    {% endfor %}
                                {% endif %}
                            </div>
                        </div>
                        
                        <div>
                            <label for="{{ form.description.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">Task Description</label>
                            {{ form.description }}
                            {% if form.description.errors %}
                                {% for error in form.description.errors %}
                                    <p class="mt-2 text-sm text-red-600">{{ error }}</p>
                                {% endfor %}
                            {% endif %}
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label for="{{ form.budget.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">Budget</label>
                                {{ form.budget }}
                                {% if form.budget.errors %}
                                    {% for error in form.budget.errors %}
                                        <p class="mt-2 text-sm text-red-600">{{ error }}</p>
                                    {% endfor %}
                                {% endif %}
                            </div>
                            <div>
                                <label for="{{ form.deadline.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">Deadline (Optional)</label>
                                {{ form.deadline }}
                                {% if form.deadline.errors %}
                                    {% for error in form.deadline.errors %}
                                        <p class="mt-2 text-sm text-red-600">{{ error }}</p>
                                    {% endfor %}
                                {% endif %}
                            </div>
                        </div>

                        <div>
                            <label for="{{ form.location.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">Location</label>
                            <select id="{{ form.location.id_for_label }}" name="{{ form.location.html_name }}" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" required>
                                <option value="" disabled>Select a District</option>
                                <option value="Abim">Abim</option>
                                <option value="Adjumani">Adjumani</option>
                                <option value="Agago">Agago</option>
                                <option value="Alebtong">Alebtong</option>
                                <option value="Amolatar">Amolatar</option>
                                <option value="Amuria">Amuria</option>
                                <option value="Amuru">Amuru</option>
                                <option value="Apac">Apac</option>
                                <option value="Arua">Arua</option>
                                <option value="Budaka">Budaka</option>
                                <option value="Bududa">Bududa</option>
                                <option value="Bugiri">Bugiri</option>
                                <option value="Buhweju">Buhweju</option>
                                <option value="Buikwe">Buikwe</option>
                                <option value="Bukedea">Bukedea</option>
                                <option value="Bukomansimbi">Bukomansimbi</option>
                                <option value="Bukwo">Bukwo</option>
                                <option value="Bulambuli">Bulambuli</option>
                                <option value="Buliisa">Buliisa</option>
                                <option value="Bundibugyo">Bundibugyo</option>
                                <option value="Bushenyi">Bushenyi</option>
                                <option value="Busia">Busia</option>
                                <option value="Butaleja">Butaleja</option>
                                <option value="Butambala">Butambala</option>
                                <option value="Butebo">Butebo</option>
                                <option value="Buyende">Buyende</option>
                                <option value="Dokolo">Dokolo</option>
                                <option value="Gomba">Gomba</option>
                                <option value="Gulu">Gulu</option>
                                <option value="Ibanda">Ibanda</option>
                                <option value="Iganga">Iganga</option>
                                <option value="Isingiro">Isingiro</option>
                                <option value="Jinja">Jinja</option>
                                <option value="Kaabong">Kaabong</option>
                                <option value="Kabale">Kabale</option>
                                <option value="Kabarole">Kabarole</option>
                                <option value="Kaberamaido">Kaberamaido</option>
                                <option value="Kalangala">Kalangala</option>
                                <option value="Kaliro">Kaliro</option>
                                <option value="Kalungu">Kalungu</option>
                                <option value="Kampala" selected>Kampala</option>
                                <option value="Kamuli">Kamuli</option>
                                <option value="Kamwenge">Kamwenge</option>
                                <option value="Kanungu">Kanungu</option>
                                <option value="Kapchorwa">Kapchorwa</option>
                                <option value="Kasese">Kasese</option>
                                <option value="Katakwi">Katakwi</option>
                                <option value="Kayunga">Kayunga</option>
                                <option value="Kiboga">Kiboga</option>
                                <option value="Kibale">Kibale</option>
                                <option value="Kiruhura">Kiruhura</option>
                                <option value="Kisoro">Kisoro</option>
                                <option value="Kitgum">Kitgum</option>
                                <option value="Kyenjojo">Kyenjojo</option>
                                <option value="Kyegegwa">Kyegegwa</option>
                                <option value="Lira">Lira</option>
                                <option value="Luuka">Luuka</option>
                                <option value="Masaka">Masaka</option>
                                <option value="Masindi">Masindi</option>
                                <option value="Mbale">Mbale</option>
                                <option value="Mbarara">Mbarara</option>
                                <option value="Mitooma">Mitooma</option>
                                <option value="Mityana">Mityana</option>
                                <option value="Moroto">Moroto</option>
                                <option value="Mubende">Mubende</option>
                                <option value="Mukono">Mukono</option>
                                <option value="Nakaseke">Nakaseke</option>
                                <option value="Nakapiripirit">Nakapiripirit</option>
                                <option value="Nakasongola">Nakasongola</option>
                                <option value="Namayingo">Namayingo</option>
                                <option value="Namisindwa">Namisindwa</option>
                                <option value="Namutumba">Namutumba</option>
                                <option value="Napak">Napak</option>
                                <option value="Nebbi">Nebbi</option>
                                <option value="Ngora">Ngora</option>
                                <option value="Ntoroko">Ntoroko</option>
                                <option value="Ntungamo">Ntungamo</option>
                                <option value="Omoro">Omoro</option>
                                <option value="Otuke">Otuke</option>
                                <option value="Oyam">Oyam</option>
                                <option value="Pader">Pader</option>
                                <option value="Pallisa">Pallisa</option>
                                <option value="Rakai">Rakai</option>
                                <option value="Rubirizi">Rubirizi</option>
                                <option value="Rukungiri">Rukungiri</option>
                                <option value="Sembabule">Sembabule</option>
                                <option value="Serere">Serere</option>
                                <option value="Sheema">Sheema</option>
                                <option value="Sironko">Sironko</option>
                                <option value="Soroti">Soroti</option>
                                <option value="Tororo">Tororo</option>
                                <option value="Wakiso">Wakiso</option>
                                <option value="Yumbe">Yumbe</option>
                                <option value="Zombo">Zombo</option>
                            </select>
                            {% if form.location.errors %}
                                {% for error in form.location.errors %}
                                    <p class="mt-2 text-sm text-red-600">{{ error }}</p>
                                {% endfor %}
                            {% endif %}
                        </div>
                        

                        <div class="flex space-x-4">
                            <button type="submit" class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium">
                                Post Task
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            <div id="dashboard" class="content-section hidden">...</div>
            <div id="task-listings" class="content-section hidden">...</div>
            <div id="my-tasks" class="content-section hidden">...</div>
            <div id="settings" class="content-section hidden">...</div>
        </div>
    </div>

    <script>
        // Navigation functionality
        const navLinks = document.querySelectorAll('.nav-link');
        const contentSections = document.querySelectorAll('.content-section');
        const sidebar = document.getElementById('sidebar');
        const sidebarOverlay = document.getElementById('sidebar-overlay');
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const fileUpload = document.getElementById('file-upload');
        const fileNamesDisplay = document.getElementById('file-names');
        
        // This script is simplified for the single-page view
        // In a real application, you would manage state to show/hide sections
        
        // Mobile menu toggle
        mobileMenuBtn.addEventListener('click', () => {
            sidebar.classList.toggle('-translate-x-full');
            sidebarOverlay.classList.toggle('hidden');
        });

        // Close mobile menu when clicking overlay
        sidebarOverlay.addEventListener('click', () => {
            sidebar.classList.add('-translate-x-full');
            sidebarOverlay.classList.add('hidden');
        });

        // Handle window resize
        window.addEventListener('resize', () => {
            if (window.innerWidth >= 1024) {
                sidebar.classList.remove('-translate-x-full');
                sidebarOverlay.classList.add('hidden');
            } else {
                sidebar.classList.add('-translate-x-full');
            }
        });

        // File upload functionality
        fileUpload.addEventListener('change', () => {
            const files = fileUpload.files;
            if (files.length > 0) {
                const fileNames = Array.from(files).map(file => file.name).join(', ');
                fileNamesDisplay.textContent = fileNames;
            } else {
                fileNamesDisplay.textContent = 'No files selected';
            }
        });
    </script>
</body>
</html>
